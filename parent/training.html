<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>boxXcel — Parent Training View</title><link rel="stylesheet" href="/assets/app.css" /></head><body><script src="/auth/guard.js"></script><div class="shell"><div class="topbar" data-topbar></div><div class="container"><div data-nav></div><div class="card"><h2>Parent — Training View</h2><div class="small" id="statusLine">Loading boxers...</div></div><div id="boxersList"></div><div class="footer">boxXcel — Training support only</div></div></div><script src="/assets/app.js"></script><script>renderTopbar("boxXcel — Parent Training");renderNav();const API_BASE = "https://0v4tvwe5l4.execute-api.eu-west-2.amazonaws.com/prod";function getToken(){return localStorage.getItem("id_token") || localStorage.getItem("access_token") || "";}function authHeadersJson(){return {"Content-Type": "application/json","Authorization": "Bearer " + getToken(),};}async function apiGetJson(url) {const res = await fetch(url, {method: "GET",headers: authHeadersJson(),cache: "no-store"});const text = await res.text();let data = null;try { data = text ? JSON.parse(text) : null; } catch { data = null; }if (!res.ok) {const msg = (data && (data.error || data.message)) ? (data.error || data.message) : (text || `HTTP ${res.status}`);throw new Error(`GET failed (${res.status}): ${msg}`);}return data;}async function loadParentProgress() {try {const url = `${API_BASE}/api/parent/progress`;const data = await apiGetJson(url);document.getElementById("statusLine").textContent = "Loaded ✓";if (!data || !data.boxers || data.boxers.length === 0) {document.getElementById("boxersList").innerHTML = '<div class="card"><div class="small">No boxers linked to your account.</div></div>';return;}const html = data.boxers.map(boxer => `<div class="card"><h3>${boxer.name || 'Boxer'}</h3><div class="small"><strong>ID:</strong> ${boxer.boxer_id}</div><div class="small"><strong>Progress:</strong> ${boxer.progress || 'N/A'}%</div><div class="small"><strong>Current Week:</strong> ${boxer.current_week || 'N/A'}</div><div class="small"><strong>Last Activity:</strong> ${boxer.last_activity || 'Never'}</div></div>`).join('');document.getElementById("boxersList").innerHTML = html;} catch (e) {console.error(e);document.getElementById("statusLine").textContent = "Error loading progress: " + e.message;}}loadParentProgress();</script></body></html>